<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:sec="http://www.springframework.org/security/tags">

<h:head>
    <title>Admin Page</title>
    <!-- for-mobile-apps -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <h:outputScript type="application/x-javascript"> addEventListener("load", function () {
        setTimeout(hideURLbar, 0);
        }, false);
        function hideURLbar() {
        window.scrollTo(0, 1);
        } </h:outputScript>

    <h:outputStylesheet library="css" name="style.css"/>
    <h:outputStylesheet name="css/bootstrap.css"/>
    <h:outputStylesheet name="css/font-awesome.min.css"/>
    <h:outputScript name="js/jquery-2.1.4.min.js"/>
    <link href="//fonts.googleapis.com/css?family=Varela+Round&amp;subset=hebrew" rel="stylesheet"/>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic'
          rel='stylesheet' type='text/css'/>
</h:head>

<h:body>
    <!-- banner1 -->
    <div class="banner1">
        <div class="container">
            <nav class="navbar navbar-default">
                <div class="navbar-header navbar-left">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <h1><a class="navbar-brand" href="/views/welcome.xhtml">Link Reducer</a></h1>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                    <nav class="cl-effect-13" id="cl-effect-13">
                        <ul class="nav navbar-nav">
                            <sec:authorize ifAllGranted="ROLE_ADMIN">
                                <li class="active"><a href="/admin/admin.xhtml">Admin</a></li>
                            </sec:authorize>
                            <li><a href="/views/statistics.xhtml">Statistics</a></li>
                            <li><a href="/views/settings.xhtml">Settings</a></li>
                            <li><a href="/views/about.xhtml">About</a></li>
                            <li><a href="/static/j_spring_security_logout">Log out</a></li>
                        </ul>
                    </nav>
                </div>
            </nav>

        </div>
    </div>

    <script src="js/bootstrap.js"></script>
    <!-- //for bootstrap working -->
    <div class="typo">
        <div class="container">
            <h3 class="w3ls_head">Admin page</h3>
            <div class="grid_3 grid_4 w3layouts">
                <h3 class="hdg">Users</h3>
                <div class="bs-example">
                    <h:form>
                        <h:dataTable id="tab" value="#{adminController.users}" var="user"
                                     styleClass="table">

                            <h:column >
                                <f:facet name="header">User name</f:facet>
                                <div align="center">#{user.name}</div>
                            </h:column>

                            <h:column>
                                <f:facet name="header">Email</f:facet>
                                <div align="center">#{user.email}</div>
                            </h:column>

                            <h:column>
                                <f:facet name="header">Action</f:facet>
                                <div align="center"><h:commandButton value="Delete" action="#{adminController.deleteUser(user)}"
                                                 update="tab"/></div>
                            </h:column>

                        </h:dataTable>
                    </h:form>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-top">
        <div class="container">
            <div class="col-md-3 w3ls-footer-top">
                <h3>QUICK LINKS</h3>
                <ul>
                    <li><a href="/views/welcome.xhtml">Home</a></li>
                    <li><a href="/views/about.xhtml">About</a></li>
                    <li><a href="/views/settings.xhtml">Settings</a></li>
                    <li><a href="/views/statistics.xhtml">User statistics</a></li>
                </ul>
            </div>
            <div class="col-md-4 wthree-footer-top">
                <h3>SUPPORT</h3>
                <ul>
                    <li><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Limozha Street, Grodno City, Belarus.</li>
                    <li><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span><a href="mailto:evgeniymakovsky@gmail.com">evgeniymakovsky@gmail.com</a></li>
                    <li><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span> +375 (29) 585 66 06</li>
                </ul>
            </div>
            <div class="col-md-5 w3l-footer-top">
                <h3>NEWSLETTER</h3>
                <p>If you want to get our news, please enter your email below and we will send you newsletter!</p>

                <h:form method="post" class="newsletter">
                    <h:inputText class="email" type="email" placeholder="Your email..." value="${newsletterController.enteredEmail}"/>
                    <h:commandButton class="submit" value="GO" action="${newsletterController.sendNewsletter()}"/>
                </h:form>
            </div>
            <div class="clearfix"></div>
            <div class="footer-w3layouts">
                <div class="agile-copy">
                    <p>2017 Designed by E. Makovsky for *instinctools</p>
                </div>
                <div class="agileits-social">
                    <ul>
                        <li><a href="https://www.facebook.com/evgeniy.makovsky.10"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://vk.com/evgeniymakovsky"><i class="fa fa-vk"></i></a></li>
                    </ul>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</h:body>
</html>